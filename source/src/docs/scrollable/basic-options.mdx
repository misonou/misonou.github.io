import { useLayoutEffect } from "react";
import { getDirectiveComponent } from "brew-js/directive";

<Module name="jq-scrollable" />

# Basic options

## Scrolling direction

### `hScroll`, `vScroll`

Controls whether X or Y-axis is scrollable even content is overflow.

<Snippets
    snippets={[
        '(default)',
        'hScroll: false',
        'vScroll: false',
    ]}
    rootProps={{
        scrollable: 'auto',
        style: { maxHeight: 300, overflow: 'hidden' }
    }}
    render={(index, ref, value) => {
        useLayoutEffect(() => {
            const scrollable = getDirectiveComponent(ref.current).scrollable;
            scrollable.setOptions({
                hScroll: index !== 1,
                vScroll: index !== 2,
            });
        }, [index]);
        return (
            <div scrollable-target="" style={{ width: '200%', display: 'grid', gridTemplateColumns: '1fr 1fr' }}>
                {[1, 2, 3, 4].map(i => (
                    <div key={i} className="app-demo-placeholder-item"></div>
                ))}
            </div>
        );
    }} />

## Mouse and touch settings

### `handle`

Controls the scrolling mode on mouse and touch events. It accepts:

- `auto`: Dragging content area on touch devices or scroll bars on other devices.
- `scrollbar`: only when dragging scroll bars.
- `content`: Only when dragging contents.

<Snippets
    snippets={[
        'handle: "auto"',
        'handle: "scrollbar"',
        'handle: "content"',
        'handle: "both"',
    ]}
    rootProps={{
        scrollable: 'auto',
        style: { maxHeight: 300, overflow: 'hidden' }
    }}
    render={(index, ref, value) => {
        useLayoutEffect(() => {
            const scrollable = getDirectiveComponent(ref.current).scrollable;
            scrollable.setOptions({
                handle: ['auto', 'scrollbar', 'content', 'both'][index],
            });
        }, [index]);
        return (
            <div scrollable-target="">
                {[1, 2, 3].map(i => (
                    <div key={i} className="app-demo-placeholder-item" style={{ width: 300 }}></div>
                ))}
            </div>
        );
    }} />

### `cancel`

Prevents scrolling to be triggered when dragging the specified elements.

## Wheel settings

### `wheel`

Controls whether scrolling by mouse wheel is enabled.

<Snippets
    snippets={[
        'wheel: true',
        'wheel: false',
    ]}
    rootProps={{
        scrollable: 'auto',
        style: { maxHeight: 300, overflow: 'hidden' }
    }}
    render={(index, ref, value) => {
        useLayoutEffect(() => {
            const scrollable = getDirectiveComponent(ref.current).scrollable;
            scrollable.setOptions({
                wheel: index === 0
            });
        }, [index]);
        return (
            <div scrollable-target="">
                {[1, 2, 3].map(i => (
                    <div key={i} className="app-demo-placeholder-item" style={{ width: 300 }}></div>
                ))}
            </div>
        );
    }} />


### `inferWheelX`

Controls whether horizontal scroll is enabled for wheel if the area is not vertically scrollable.

<Snippets
    snippets={[
        'inferWheelX: true',
        'inferWheelX: false',
    ]}
    rootProps={{
        scrollable: 'auto',
        style: { maxHeight: 300, overflow: 'hidden' }
    }}
    render={(index, ref, value) => {
        useLayoutEffect(() => {
            const scrollable = getDirectiveComponent(ref.current).scrollable;
            scrollable.setOptions({
                inferWheelX: index === 0
            });
        }, [index]);
        return (
            <div scrollable-target="" style={{ width: '200%', display: 'grid', gridTemplateColumns: '1fr 1fr' }}>
                {[1, 2].map(i => (
                    <div key={i} className="app-demo-placeholder-item"></div>
                ))}
            </div>
        );
    }} />
