<Module name="zeta-dom/observe" />

# watchAttributes

Registers a callback to be fired when specified attributes of descandent elements are changed.

## Syntax

```javascript
watchAttributes(element, attributes, callback)
watchAttributes(element, attributes, callback, fireInit)
```

<ImportHint
    name="watchAttributes"
    module="zeta-dom/observe"
    global="zeta.dom.watchAttributes"
/>

### Parameters

<dl>
    #### `element`
    A DOM element to observe.

    #### `attributes`
    A string or a list of string specifying attributes to observe.

    #### `callback`
    A callback to be fired when mutation occurs. The callback receives the following arugments:
    - `addedNodes`: an array containing elements that has specified attribute(s) added.
    - `removedNodes` an array containing elements that has specified attribute(s) removed.
    - `changedNodes` an array containing elements that has specified attribute(s) changed.

    #### `fireInit` <Badge.Optional />
    Optionally fired when DOM content is ready.

</dl>

### Return value

A callback which collects mutation immediately and fires mutation handler if there is any mutations.

> The callback has an additional property `dispose` that will disconnect the mutation observer.

```javascript
const collectChanges = watchAttributes(element, ['class'], callback);
collectChanges.dispose();
```
