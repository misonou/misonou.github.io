(self.webpackChunkbrewjs_for_react_router_example=self.webpackChunkbrewjs_for_react_router_example||[]).push([[5431],{5431:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return b}});var t=r(2556),o=r(7112),i=r(4519),a=function(){return a=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},a.apply(this,arguments)},l=function(n,e,r,t){return new(r||(r=Promise))((function(o,i){function a(n){try{c(t.next(n))}catch(e){i(e)}}function l(n){try{c(t.throw(n))}catch(e){i(e)}}function c(n){var e;n.done?o(n.value):(e=n.value,e instanceof r?e:new r((function(n){n(e)}))).then(a,l)}c((t=t.apply(n,e||[])).next())}))},c=function(n,e){var r,t,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,t=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(n,a)}catch(l){i=[6,l],t=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function s(){var n=this,e=(0,i.useState)(),r=e[0],s=e[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:["Confirm? ",String(r)]}),(0,t.jsx)("button",a({onClick:function(){return l(n,void 0,void 0,(function(){var n;return c(this,(function(e){switch(e.label){case 0:return n=s,[4,(0,o.v)({className:"app-dialog app-demo-view",onRender:function(n){var e=n.closeDialog;return(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{children:"Confirm?"}),(0,t.jsx)("button",a({type:"button",onClick:function(){return e(!0)}},{children:"OK"})),(0,t.jsx)("button",a({type:"button",onClick:function(){return e(!1)}},{children:"Cancel"}))]})}}).open()];case 1:return[2,n.apply(void 0,[e.sent()])]}}))}))}},{children:"Open dialog"}))]})}var u='import { createDialog } from "brew-js-react";\r\nimport { useState } from "react";\r\n\r\nfunction openDialog() {\r\n    const dialog = createDialog<boolean>({\r\n        className: \'app-dialog app-demo-view\',\r\n        onRender({ closeDialog }) {\r\n            return (\r\n                <div>\r\n                    <p>Confirm?</p>\r\n                    <button type="button" onClick={() => closeDialog(true)}>OK</button>\r\n                    <button type="button" onClick={() => closeDialog(false)}>Cancel</button>\r\n                </div>\r\n            );\r\n        }\r\n    });\r\n    return dialog.open();\r\n}\r\n\r\nexport default function Component() {\r\n    const [value, setValue] = useState<boolean | undefined>();\r\n    return (\r\n        <>\r\n            <p>Confirm? {String(value)}</p>\r\n            <button onClick={async () => setValue(await openDialog())}>\r\n                Open dialog\r\n            </button>\r\n        </>\r\n    );\r\n}\r\n',d=r(1184),p=r(5337);function f(){return(0,t.jsx)(p.iV,{component:s,source:{tsx:u,css:d.Z}})}function h(n){const e=Object.assign({h1:"h1",p:"p",a:"a",code:"code",pre:"pre",blockquote:"blockquote"},n.components),{Module:r}=e;return r||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Module",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r,{name:"brew-js-react"}),"\n",(0,t.jsx)(e.h1,{children:"Dialog result"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.a,{href:":",children:(0,t.jsx)(e.code,{children:"DialogState.open"})})," returns a ",(0,t.jsx)(e.code,{children:"Promise"})," object that will be resolved when the dialog closes,\r\nmaking it readily able to response to user input."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"const dialog = createDialog({ /* ... */ });\r\nconst result = await dialog.open();\n"})}),"\n",(0,t.jsxs)(e.p,{children:["By default it will resolve with ",(0,t.jsx)(e.code,{children:"undefined"}),", meaning that there is no specific result\r\nfrom the dialog."]}),"\n",(0,t.jsxs)(e.p,{children:["However, the dialog can be commited with return value using ",(0,t.jsx)(e.code,{children:"closeDialog"})," property in ",(0,t.jsx)(e.code,{children:"onRender"})," callback:"]}),"\n",(0,t.jsx)(f,{}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["Note that the promise will always resolves to ",(0,t.jsx)(e.code,{children:"undefined"})," if the dialog is forcibly\r\nclosed in cases like losing focus."]}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["If the ",(0,t.jsx)(e.code,{children:"onCommit"})," option is passed to ",(0,t.jsx)(e.a,{href:":",children:(0,t.jsx)(e.code,{children:"createDialog"})}),", the value will be sent to ",(0,t.jsx)(e.code,{children:"onCommit"}),", and\r\nthe result will be forwarded to opener."]}),"\n"]})]})}var b=function(n={}){const{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(h,n)})):h(n)}},1184:function(n,e){"use strict";e.Z=".app-dialog {\r\n    position: fixed;\r\n    display: flex;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    background-color: #0009;\r\n    align-items: center;\r\n    justify-content: center;\r\n    pointer-events: none;\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n}\r\n\r\n.app-dialog[is-modal] {\r\n    pointer-events: all;\r\n}\r\n\r\n.app-dialog.open {\r\n    opacity: 1;\r\n}\r\n\r\n.app-dialog.open.closing {\r\n    opacity: 0;\r\n}\r\n\r\n.app-dialog > div {\r\n    position: relative;\r\n    padding: 1em;\r\n    background-color: var(--color-background);\r\n    border-radius: var(--border-radius);\r\n    box-shadow: var(--overlay-box-shadow);\r\n    pointer-events: all;\r\n}\r\n\r\n.app-dialog.loading > div:before {\r\n    position: absolute;\r\n    z-index: 1;\r\n    content: '';\r\n    bottom: 0;\r\n    left: 0;\r\n    animation: loading-bar 1000s;\r\n    border-bottom: 4px solid var(--color-highlight);\r\n    border-radius: 0 0 var(--border-radius) var(--border-radius);\r\n    transition: right 0.2s;\r\n}\r\n\r\n.app-dialog.closing > div:before {\r\n    animation-duration: 0.5s;\r\n    right: 0;\r\n}\r\n\r\n@keyframes loading-bar {\r\n    0% {\r\n        right: 100%\r\n    }\r\n    0.5% {\r\n        right: 50%\r\n    }\r\n    1% {\r\n        right: 25%\r\n    }\r\n    100% {\r\n        right: 0;\r\n    }\r\n}\r\n"},3322:function(n,e,r){var t,o=r(4453);t=o.createRoot?o:{createRoot:function(n,e){return{render:function(e){o.render(e,n)},unmount:function(){o.unmountComponentAtNode(n)}}},hydrateRoot:function(n,e,r){return o.hydrate(e,n),t.createRoot(n,r)}},n.exports=t},2327:function(n,e,r){var t;try{t=r(9402)}catch(o){t=r(3322)}n.exports=t},7112:function(n,e,r){"use strict";r.d(e,{v:function(){return u}});var t=r(4519),o=(r(4453),r(2327)),i=r(7749),a=r(8180),l=r(754),c=r(9239),s=r(8532);function u(n){var e,r=document.createElement("div"),u=o.createRoot(r),d=s.aS.bind(0,r);return l.ZP.on(r,{flyoutshow:function(){(n.onOpen||i.ZT)(r)},flyouthide:function(){e=null,(0,a.ZF)(r),(n.onClose||i.ZT)(r),n.onRender&&u.unmount()},asyncStart:function(){(0,a.w)(r,"loading",!0)},asyncEnd:function(){(0,a.w)(r,"loading",!1)}}),(0,c.wv)(r,!0),{root:r,close:d,open:function(){if(e)return e;if(r.className=n.className||"",document.body.appendChild(r),l.ZP.retainFocus(l.ZP.activeElement,r),n.modal&&r.setAttribute("is-modal",""),n.onRender){var o=(0,i.l7)({},n,{closeDialog:function(e){var r=(0,i.gj)(n.onCommit||i.Zk)(e);return(0,c.He)(l.ZP.activeElement,r),r.then(d)}}),a=(0,t.createElement)(n.onRender,o);n.wrapper&&(a=(0,t.createElement)(n.wrapper,o,a)),u.render(a)}return e=(0,i.DB)().then((function(){return(0,s.zQ)(r,null,(0,i.ei)(n,["focus"]))})),n.preventLeave?(0,c.rf)(r,e):n.preventNavigation&&(0,c.dR)(r,e),e}}}}}]);