"use strict";(self.webpackChunkbrewjs_for_react_router_example=self.webpackChunkbrewjs_for_react_router_example||[]).push([[1750],{1750:function(t,e,r){r.r(e),r.d(e,{default:function(){return m}});var a=r(2556),n=r(885),o=r(882),s=r(6502),c=r(5465),d=r(2192),i=r(7749);function p(){var t=(0,o.N)({productType:""},"contact","asc",10),e=t.getView(c,(function(e,r){return r.productType&&(e=e.filter((function(t){return t.productType===r.productType}))),t.sort(e)})),r=(0,n.Z)(e,1)[0];return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",Object.assign({className:"table-filter"},{children:(0,a.jsx)(d.Lt,{label:"Product Type",items:["","Desktop","Laptop","Tablet"],allowUnselect:!0,variant:"button",value:t.filters.productType,onChange:function(e){return t.filters.productType=e}})})),(0,a.jsxs)("table",Object.assign({className:"app-demo-view-table"},{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Product ID"}),(0,a.jsx)("th",{children:"Product Type"})]})}),(0,a.jsx)("tbody",{children:r.map((function(t,e){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t.contact}),(0,a.jsx)("td",{children:t.productId}),(0,a.jsx)("td",{children:t.productType})]},e)}))})]})),(0,a.jsxs)("div",Object.assign({className:"table-footer"},{children:[(0,a.jsxs)("div",{children:[t.itemCount," items"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("i",Object.assign({className:(0,s.AK)({disabled:0===t.pageIndex}),onClick:function(){return t.pageIndex--}},{children:"Prev"})),(0,i.rx)(" ",t.pageCount).split("").map((function(e,r){return(0,a.jsx)("i",Object.assign({className:(0,s.AK)({active:r===t.pageIndex}),onClick:function(){return t.pageIndex=r}},{children:r+1}),r)})),(0,a.jsx)("i",Object.assign({className:(0,s.AK)({disabled:t.pageIndex===t.pageCount-1}),onClick:function(){return t.pageIndex++}},{children:"Next"}))]})]}))]})}var u='import { classNames, useDataView } from "zeta-dom-react";\r\nimport data from "src/data/examples/sales.json";\r\nimport "./style.css";\r\nimport { Dropdown } from "src/components/controls";\r\nimport { repeat } from "zeta-dom/util";\r\n\r\nexport default function Component() {\r\n    const dataView = useDataView(\r\n        { productType: \'\' }, // default filter\r\n        \'contact\', \'asc\',    // default sorting\r\n        10);                 // page size\r\n\r\n    const [pageItems] = dataView.getView(data, (items, filters) => {\r\n        if (filters.productType) {\r\n            items = items.filter(v => v.productType === filters.productType);\r\n        }\r\n        return dataView.sort(items);\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            {/* Filter controls */}\r\n            <div className="table-filter">\r\n                <Dropdown label="Product Type" items={[\'\', \'Desktop\', \'Laptop\', \'Tablet\']} allowUnselect variant="button"\r\n                    value={dataView.filters.productType}\r\n                    onChange={v => dataView.filters.productType = v} />\r\n            </div>\r\n\r\n            {/* Table */}\r\n            <table className="app-demo-view-table">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Product ID</th>\r\n                        <th>Product Type</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {pageItems.map((v, i) => (\r\n                        <tr key={i}>\r\n                            <td>{v.contact}</td>\r\n                            <td>{v.productId}</td>\r\n                            <td>{v.productType}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n\r\n            {/* Simple pagination */}\r\n            <div className="table-footer">\r\n                <div>{dataView.itemCount} items</div>\r\n                <div>\r\n                    <i className={classNames({ disabled: dataView.pageIndex === 0 })} onClick={() => dataView.pageIndex--}>Prev</i>\r\n                    {repeat(\' \', dataView.pageCount).split(\'\').map((v, i) => (\r\n                        <i key={i} className={classNames({ active: i === dataView.pageIndex })} onClick={() => dataView.pageIndex = i}>{i + 1}</i>\r\n                    ))}\r\n                    <i className={classNames({ disabled: dataView.pageIndex === dataView.pageCount - 1 })} onClick={() => dataView.pageIndex++}>Next</i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n',l=r(6670);function g(){return(0,a.jsx)(l.iV,{component:p,source:{tsx:u},maxHeight:"none"})}function h(t){const e=Object.assign({h1:"h1",p:"p",a:"a",code:"code",h2:"h2",pre:"pre"},t.components),{Module:r}=e;return r||function(t,e){throw new Error("Expected "+(e?"component":"object")+" `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}("Module",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{name:"zeta-dom-react"}),"\n",(0,a.jsx)(e.h1,{children:"Overview"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.a,{href:":",children:(0,a.jsx)(e.code,{children:"DataView"})})," provides a simple way to filter, sort and pagingate data.\r\nIt provides interfaces for components to read and update the data view configuration."]}),"\n",(0,a.jsx)(e.h2,{children:"Example"}),"\n",(0,a.jsx)(g,{}),"\n",(0,a.jsx)(e.p,{children:"When there is no applicable filters nor custom sorting, the callback can be omitted:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"function Component() {\r\n    const items = [/* ... */];\r\n    const dataView = useDataView({}, 'date', 'desc', 100);\r\n    const [pagedItmes] = dataView.getView(items);\r\n    /* ... */\r\n}\n"})}),"\n",(0,a.jsx)(e.h2,{children:"Persistance through history"}),"\n",(0,a.jsxs)(e.p,{children:["If ",(0,a.jsx)(e.a,{href:":",children:(0,a.jsx)(e.code,{children:"ViewStateProvider"})})," is implemented, and is provided through the ",(0,a.jsx)(e.a,{href:":",children:(0,a.jsx)(e.code,{children:"<ViewStateProvider>"})})," component,\r\nthe state of data view is automatically persisted through history."]}),"\n",(0,a.jsxs)(e.p,{children:["For example, using ",(0,a.jsx)(e.code,{children:"brew-js-react"}),"."]})]})}var m=function(t={}){const{wrapper:e}=t.components||{};return e?(0,a.jsx)(e,Object.assign({},t,{children:(0,a.jsx)(h,t)})):h(t)}},882:function(t,e,r){r.d(e,{N:function(){return h}});var a=r(4519),n=r(6770),o=r(7749),s=r(1266),c=r(2674),d=(0,o.D8)(),i=g.prototype,p=new n.pF;function u(t,e){var r=(0,o.Jp)(t)&&-1,a=(0,o.Jp)(e)&&1;return r||a?r+a:"string"===typeof t||"string"===typeof e?String(t).localeCompare(e,void 0,{caseFirst:"upper"}):t-e}function l(t,e,r){d(t).setPageCount(Math.ceil(r/(e||r||1)))}function g(t,e,r,a){var n=this,s={filters:(0,o.l7)({},t),sortBy:e,sortOrder:r||e&&"asc",itemCount:null,pageIndex:0,pageSize:void 0===a?g.pageSize:a},c=d(n,{setPageCount:(0,o.aU)(n,"pageCount",0,!0),defaults:s,items:[]}),i=function(){p.emit("viewChange",n)},u=function(t){var e=this!==n,r=e||(0,o.Zr)(t.newValues,(function(t,e){return"pageCount"!==e&&"itemCount"!==e}));c.sorted=c.items.length?void 0:[],e&&(c.filtered=c.sorted),n.pageIndex=e||!(0,o.nr)(t.newValues,"pageIndex")?0:n.pageIndex,r&&(0,o.lb)(i)};t=(0,o.l7)(n,s).filters;for(var l in c.callback=(0,o.YP)(t,!1),(0,o.YP)(n,u),(0,o.YP)(n.filters,u),t)(0,o.aU)(t,l);(0,o.vV)(t)}function h(t,e,r,n,d){if("string"!==typeof t)return h("__dataView",t,e,r,n);var i=(0,c.F)(t),p=(0,s.Rk)(),u=(0,a.useState)((function(){return new g(e,r,n,d).reset(i.get())}))[0];return(0,a.useEffect)((function(){return(0,o.kV)(u.on("viewChange",(function(){i.set(u.toJSON()),p()})),i.onPopState?i.onPopState((function(t){i.set(u.toJSON()),u.reset(t)})):o.ZT)}),[u]),u}(0,o.Ou)(g,{pageSize:0}),(0,o.r9)(g,{on:function(t,e){return p.add(this,t,e)},getView:function(t,e){var r=this,a=d(r),n=r.pageIndex||0,o=r.pageSize||0;t!==a.items&&(a.items=t||[],a.filtered=a.items.length?void 0:[],a.sorted=a.filtered),e=e||function(t){return r.sort(t)};var s=a.sorted||(a.sorted=e.call(r,a.filtered||a.items,r.filters,r.sortBy,r.sortOrder)||[]);return a.filtered=s,t&&(r.itemCount=s.length),[s.slice(n*o,o?(n+1)*o:void 0),s.length]},sort:function(t,e){if(t=(0,o.VL)(t),!(0,o.mf)(e)){var r=e||this.sortBy;if(!r)return t;e=function(t){return t[r]}}var a="desc"===this.sortOrder?-1:1,n=new Map;return(0,o.S6)(t,(function(t,r){n.set(r,e(r))})),t.sort((function(t,e){var r=n.get(t),s=n.get(e);return a*((0,o.kJ)(r)?(0,o.Zr)(r,(function(t,e){return u(t,s[e])})):u(r,s))}))},toggleSort:function(t,e){var r=this;r.sortBy===t?r.sortOrder="asc"===r.sortOrder?"desc":"asc":(r.sortBy=t,r.sortOrder=e||"asc")},toJSON:function(){var t=this;return(0,o.l7)((0,o.ei)(t,(0,o.XP)(d(t).defaults)),{filters:(0,o.l7)({},t.filters),itemCount:t.itemCount})},reset:function(t){var e=this,r=d(e);return delete r.itemCount,t=t||r.defaults,r.callback((function(){(0,o.l7)(e.filters,t.filters)})),(0,o.l7)(e,t)}}),(0,o.aU)(i,"sortBy"),(0,o.aU)(i,"sortOrder"),(0,o.aU)(i,"itemCount",0,(function(t){return d(this).itemCount=t,l(this,this.pageSize,t),t||0})),(0,o.aU)(i,"pageSize",0,(function(t){return l(this,t,this.itemCount),t})),(0,o.aU)(i,"pageIndex",0,(function(t){return Math.max(0,(0,o.Jp)(d(this).itemCount)?t:Math.min(t,this.pageCount-1))})),(0,o.aU)(i,"filters",{},(function(t,e){return(0,o.l7)(e||{},t)}))},5465:function(t){t.exports=JSON.parse('[{"contact":"Paul Thomas","sex":"M","age":43,"state":"OH","productId":"M01-F0024","productType":"Desktop"},{"contact":"Margo Simms","sex":"F","age":37,"state":"WV","productId":"GT13-0024","productType":"Desktop"},{"contact":"Sam Stine","sex":"M","age":26,"state":"PA","productId":"I3670","productType":"Desktop"},{"contact":"Moe Eggert","sex":"M","age":35,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Jessica Elk","sex":"F","age":55,"state":"PA","productId":"15M-ED","productType":"Laptop"},{"contact":"Sally Struthers","sex":"F","age":45,"state":"PA","productId":"GT13-0024","productType":"Desktop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"OH","productId":"GA401IV","productType":"Laptop"},{"contact":"Mick Roberts","sex":"M","age":23,"state":"OH","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Ed Klondike","sex":"M","age":52,"state":"OH","productId":"81TC00","productType":"Laptop"},{"contact":"Phil Jones","sex":"M","age":56,"state":"WV","productId":"M01-F0024","productType":"Desktop"},{"contact":"Rick James","sex":"M","age":49,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Sue Etna","sex":"F","age":54,"state":"OH","productId":"GT13-0024","productType":"Desktop"},{"contact":"Jason Case","sex":"M","age":57,"state":"PA","productId":"81TC00","productType":"Laptop"},{"contact":"Doug Johnson","sex":"M","age":51,"state":"PA","productId":"I3670","productType":"Desktop"},{"contact":"Andy Sands","sex":"M","age":56,"state":"OH","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Kim Collins","sex":"F","age":49,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Edna Sanders","sex":"F","age":46,"state":"OH","productId":"15M-ED","productType":"Laptop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"NY","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Mick Roberts","sex":"M","age":23,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Sally Struthers","sex":"F","age":45,"state":"NY","productId":"81TC00","productType":"Laptop"},{"contact":"Jason Case","sex":"M","age":57,"state":"PA","productId":"M01-F0024","productType":"Desktop"},{"contact":"Doug Johnson","sex":"M","age":51,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Paul Thomas","sex":"M","age":43,"state":"OH","productId":"81TC00","productType":"Laptop"},{"contact":"Margo Simms","sex":"F","age":37,"state":"WV","productId":"Q526FA","productType":"Laptop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"NY","productId":"I3670","productType":"Desktop"},{"contact":"Mick Roberts","sex":"M","age":23,"state":"PA","productId":"Q526FA","productType":"Laptop"},{"contact":"Ed Klondike","sex":"M","age":52,"state":"OH","productId":"Q526FA","productType":"Laptop"},{"contact":"Moe Eggert","sex":"M","age":35,"state":"PA","productId":"15M-ED","productType":"Laptop"},{"contact":"Jessica Elk","sex":"F","age":55,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Phil Jones","sex":"M","age":56,"state":"WV","productId":"M01-F0024","productType":"Desktop"},{"contact":"Rick James","sex":"M","age":49,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Sue Etna","sex":"F","age":54,"state":"OH","productId":"GT13-0024","productType":"Desktop"},{"contact":"Kim Collins","sex":"F","age":49,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Edna Sanders","sex":"F","age":46,"state":"OH","productId":"15M-ED","productType":"Laptop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"NY","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Sally Struthers","sex":"F","age":45,"state":"NY","productId":"81TC00","productType":"Laptop"},{"contact":"Jason Case","sex":"M","age":57,"state":"PA","productId":"M01-F0024","productType":"Desktop"},{"contact":"Doug Johnson","sex":"M","age":51,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Moe Eggert","sex":"M","age":35,"state":"PA","productId":"I3593","productType":"Laptop"}]')}}]);