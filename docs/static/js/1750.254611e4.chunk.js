"use strict";(self.webpackChunkbrewjs_for_react_router_example=self.webpackChunkbrewjs_for_react_router_example||[]).push([[1750],{1750:function(t,e,r){r.r(e),r.d(e,{default:function(){return g}});var o=r(2556),a=r(882),n=r(6502),s=r(5465),c=r(2192),p=r(7749),d=function(){return d=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},d.apply(this,arguments)};function i(){var t=(0,a.N)({productType:""},"contact","asc",10),e=t.getView(s,(function(e,r){return r.productType&&(e=e.filter((function(t){return t.productType===r.productType}))),t.sort(e)}))[0];return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",d({className:"table-filter"},{children:(0,o.jsx)(c.Lt,{label:"Product Type",items:["","Desktop","Laptop","Tablet"],allowUnselect:!0,variant:"button",value:t.filters.productType,onChange:function(e){return t.filters.productType=e}})})),(0,o.jsxs)("table",d({className:"app-demo-view-table"},{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Name"}),(0,o.jsx)("th",{children:"Product ID"}),(0,o.jsx)("th",{children:"Product Type"})]})}),(0,o.jsx)("tbody",{children:e.map((function(t,e){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:t.contact}),(0,o.jsx)("td",{children:t.productId}),(0,o.jsx)("td",{children:t.productType})]},e)}))})]})),(0,o.jsxs)("div",d({className:"table-footer"},{children:[(0,o.jsxs)("div",{children:[t.itemCount," items."]}),(0,o.jsx)("div",{children:(0,p.rx)(" ",Math.ceil(t.itemCount/t.pageSize)).split("").map((function(e,r){return(0,o.jsx)("i",d({className:(0,n.AK)({active:r===t.pageIndex}),onClick:function(){return t.pageIndex=r}},{children:r+1}))}))})]}))]})}var u='import { classNames, useDataView } from "zeta-dom-react";\r\nimport data from "src/data/examples/sales.json";\r\nimport "./style.css";\r\nimport { Dropdown } from "src/components/controls";\r\nimport { repeat } from "zeta-dom/util";\r\n\r\nexport default function Component() {\r\n    const dataView = useDataView(\r\n        { productType: \'\' }, // default filter\r\n        \'contact\', \'asc\',    // default sorting\r\n        10);                 // page size\r\n\r\n    const [pageItems] = dataView.getView(data, (items, filters) => {\r\n        if (filters.productType) {\r\n            items = items.filter(v => v.productType === filters.productType);\r\n        }\r\n        return dataView.sort(items);\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            {/* Filter controls */}\r\n            <div className="table-filter">\r\n                <Dropdown label="Product Type" items={[\'\', \'Desktop\', \'Laptop\', \'Tablet\']} allowUnselect variant="button"\r\n                    value={dataView.filters.productType}\r\n                    onChange={v => dataView.filters.productType = v} />\r\n            </div>\r\n\r\n            {/* Table */}\r\n            <table className="app-demo-view-table">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Product ID</th>\r\n                        <th>Product Type</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {pageItems.map((v, i) => (\r\n                        <tr key={i}>\r\n                            <td>{v.contact}</td>\r\n                            <td>{v.productId}</td>\r\n                            <td>{v.productType}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n\r\n            {/* Simple pagination */}\r\n            <div className="table-footer">\r\n                <div>{dataView.itemCount} items.</div>\r\n                <div>\r\n                    {repeat(\' \', Math.ceil(dataView.itemCount / dataView.pageSize)).split(\'\').map((v, i) => (\r\n                        <i className={classNames({ active: i === dataView.pageIndex })} onClick={() => dataView.pageIndex = i}>{i + 1}</i>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n',l=r(5337);function h(){return(0,o.jsx)(l.iV,{component:i,source:{tsx:u},maxHeight:"none"})}function f(t){const e=Object.assign({h1:"h1",p:"p",a:"a",code:"code",h2:"h2",pre:"pre"},t.components),{Module:r}=e;return r||function(t,e){throw new Error("Expected "+(e?"component":"object")+" `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}("Module",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r,{name:"zeta-dom-react"}),"\n",(0,o.jsx)(e.h1,{children:"Overview"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:":",children:(0,o.jsx)(e.code,{children:"DataView"})})," provides a simple way to filter, sort and pagingate data.\r\nIt provides interfaces for components to read and update the data view configuration."]}),"\n",(0,o.jsx)(e.h2,{children:"Example"}),"\n",(0,o.jsx)(h,{}),"\n",(0,o.jsx)(e.p,{children:"When there is no applicable filters nor custom sorting, the callback can be omitted:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-tsx",children:"function Component() {\r\n    const items = [/* ... */];\r\n    const dataView = useDataView({}, 'date', 'desc', 100);\r\n    const [pagedItmes] = dataView.getView(items);\r\n    /* ... */\r\n}\n"})}),"\n",(0,o.jsx)(e.h2,{children:"Persistance through history"}),"\n",(0,o.jsxs)(e.p,{children:["If ",(0,o.jsx)(e.a,{href:":",children:(0,o.jsx)(e.code,{children:"ViewStateProvider"})})," is implemented, and is provided through the ",(0,o.jsx)(e.a,{href:":",children:(0,o.jsx)(e.code,{children:"<ViewStateProvider>"})})," component,\r\nthe state of data view is automatically persisted through history."]}),"\n",(0,o.jsxs)(e.p,{children:["For example, using ",(0,o.jsx)(e.code,{children:"brew-js-react"}),"."]})]})}var g=function(t={}){const{wrapper:e}=t.components||{};return e?(0,o.jsx)(e,Object.assign({},t,{children:(0,o.jsx)(f,t)})):f(t)}},882:function(t,e,r){r.d(e,{N:function(){return h}});var o=r(4519),a=r(6770),n=r(7749),s=r(1266),c=r(2674),p=(0,n.D8)(),d=l.prototype,i=new a.pF;function u(t,e){var r=(0,n.Jp)(t)&&-1,o=(0,n.Jp)(e)&&1;return r||o?r+o:"string"===typeof t||"string"===typeof e?String(t).localeCompare(e,void 0,{caseFirst:"upper"}):t-e}function l(t,e,r,o){var a=this,s={filters:(0,n.l7)({},t),sortBy:e,sortOrder:r||e&&"asc",pageIndex:0,pageSize:void 0===o?l.pageSize:o};for(var c in t=(0,n.l7)({},t))(0,n.aU)(t,c);var d=p(a,{filters:Object.freeze(t),defaults:s,items:[]}),u=function(){i.emit("viewChange",a)},h=function(){d.sorted=d.items.length?void 0:[],this!==a&&(d.filtered=d.sorted),(0,n.lb)(u)};(0,n.l7)(this,s),(0,n.YP)(a,h),(0,n.YP)(a.filters,h)}function h(t,e,r,a,d){if("string"!==typeof t)return h("__dataView",t,e,r,a);var i=(0,c.F)(t),u=(0,s.Rk)(),f=(0,o.useState)((function(){return(0,n.l7)(new l(e,r,a,d),i.get())}))[0];return(0,o.useEffect)((function(){var t=p(f);return(0,n.kV)(f.on("viewChange",(function(){i.set(f.toJSON()),u()})),i.onPopState?i.onPopState((function(e){i.set(f.toJSON()),(0,n.l7)(f,e||t.defaults)})):n.ZT)}),[f]),f}(0,n.Ou)(l,{pageSize:0}),(0,n.r9)(l,{itemCount:0,on:function(t,e){return i.add(this,t,e)},getView:function(t,e){var r=this,o=p(r),a=r.pageIndex||0,n=r.pageSize||0;t!==o.items&&(o.items=t||[],o.filtered=o.items.length?void 0:[],o.sorted=o.filtered),e=e||function(t){return r.sort(t)};var s=o.sorted||(o.sorted=e.call(r,o.filtered||o.items,r.filters,r.sortBy,r.sortOrder)||[]);return o.filtered=s,t&&(r.itemCount=s.length),[s.slice(a*n,n?(a+1)*n:void 0),s.length]},sort:function(t,e){if(t=(0,n.VL)(t),!(0,n.mf)(e)){var r=e||this.sortBy;if(!r)return t;e=function(t){return t[r]}}var o="desc"===this.sortOrder?-1:1,a=new Map;return(0,n.S6)(t,(function(t,r){a.set(r,e(r))})),t.sort((function(t,e){var r=a.get(t),s=a.get(e);return o*((0,n.kJ)(r)?(0,n.Zr)(r,(function(t,e){return u(t,s[e])})):u(r,s))}))},toggleSort:function(t,e){var r=this;r.sortBy===t?r.sortOrder="asc"===r.sortOrder?"desc":"asc":(r.sortBy=t,r.sortOrder=e||"asc")},toJSON:function(){var t=this;return(0,n.l7)((0,n.ei)(t,(0,n.XP)(p(t).defaults)),{filters:(0,n.l7)({},t.filters),itemCount:t.itemCount})},reset:function(){(0,n.l7)(this,p(this).defaults)}}),(0,n.aU)(d,"sortBy"),(0,n.aU)(d,"sortOrder"),(0,n.aU)(d,"pageIndex"),(0,n.aU)(d,"pageSize"),(0,n.aU)(d,"filters",{},(function(t){return(0,n.l7)(p(this).filters,t)}))},5465:function(t){t.exports=JSON.parse('[{"contact":"Paul Thomas","sex":"M","age":43,"state":"OH","productId":"M01-F0024","productType":"Desktop"},{"contact":"Margo Simms","sex":"F","age":37,"state":"WV","productId":"GT13-0024","productType":"Desktop"},{"contact":"Sam Stine","sex":"M","age":26,"state":"PA","productId":"I3670","productType":"Desktop"},{"contact":"Moe Eggert","sex":"M","age":35,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Jessica Elk","sex":"F","age":55,"state":"PA","productId":"15M-ED","productType":"Laptop"},{"contact":"Sally Struthers","sex":"F","age":45,"state":"PA","productId":"GT13-0024","productType":"Desktop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"OH","productId":"GA401IV","productType":"Laptop"},{"contact":"Mick Roberts","sex":"M","age":23,"state":"OH","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Ed Klondike","sex":"M","age":52,"state":"OH","productId":"81TC00","productType":"Laptop"},{"contact":"Phil Jones","sex":"M","age":56,"state":"WV","productId":"M01-F0024","productType":"Desktop"},{"contact":"Rick James","sex":"M","age":49,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Sue Etna","sex":"F","age":54,"state":"OH","productId":"GT13-0024","productType":"Desktop"},{"contact":"Jason Case","sex":"M","age":57,"state":"PA","productId":"81TC00","productType":"Laptop"},{"contact":"Doug Johnson","sex":"M","age":51,"state":"PA","productId":"I3670","productType":"Desktop"},{"contact":"Andy Sands","sex":"M","age":56,"state":"OH","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Kim Collins","sex":"F","age":49,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Edna Sanders","sex":"F","age":46,"state":"OH","productId":"15M-ED","productType":"Laptop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"NY","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Mick Roberts","sex":"M","age":23,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Sally Struthers","sex":"F","age":45,"state":"NY","productId":"81TC00","productType":"Laptop"},{"contact":"Jason Case","sex":"M","age":57,"state":"PA","productId":"M01-F0024","productType":"Desktop"},{"contact":"Doug Johnson","sex":"M","age":51,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Paul Thomas","sex":"M","age":43,"state":"OH","productId":"81TC00","productType":"Laptop"},{"contact":"Margo Simms","sex":"F","age":37,"state":"WV","productId":"Q526FA","productType":"Laptop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"NY","productId":"I3670","productType":"Desktop"},{"contact":"Mick Roberts","sex":"M","age":23,"state":"PA","productId":"Q526FA","productType":"Laptop"},{"contact":"Ed Klondike","sex":"M","age":52,"state":"OH","productId":"Q526FA","productType":"Laptop"},{"contact":"Moe Eggert","sex":"M","age":35,"state":"PA","productId":"15M-ED","productType":"Laptop"},{"contact":"Jessica Elk","sex":"F","age":55,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Phil Jones","sex":"M","age":56,"state":"WV","productId":"M01-F0024","productType":"Desktop"},{"contact":"Rick James","sex":"M","age":49,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Sue Etna","sex":"F","age":54,"state":"OH","productId":"GT13-0024","productType":"Desktop"},{"contact":"Kim Collins","sex":"F","age":49,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Edna Sanders","sex":"F","age":46,"state":"OH","productId":"15M-ED","productType":"Laptop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"NY","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Sally Struthers","sex":"F","age":45,"state":"NY","productId":"81TC00","productType":"Laptop"},{"contact":"Jason Case","sex":"M","age":57,"state":"PA","productId":"M01-F0024","productType":"Desktop"},{"contact":"Doug Johnson","sex":"M","age":51,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Moe Eggert","sex":"M","age":35,"state":"PA","productId":"I3593","productType":"Laptop"}]')}}]);