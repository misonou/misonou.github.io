"use strict";(self.webpackChunkbrewjs_for_react_router_example=self.webpackChunkbrewjs_for_react_router_example||[]).push([[5431],{5431:function(n,e,r){r.r(e),r.d(e,{default:function(){return b}});var o=r(2556),t=r(4165),i=r(885),a=r(1929),s=r(4519),c=function(n,e,r,o){return new(r||(r=Promise))((function(t,i){function a(n){try{c(o.next(n))}catch(e){i(e)}}function s(n){try{c(o.throw(n))}catch(e){i(e)}}function c(n){var e;n.done?t(n.value):(e=n.value,e instanceof r?e:new r((function(n){n(e)}))).then(a,s)}c((o=o.apply(n,e||[])).next())}))};function l(){var n=this,e=(0,s.useState)(),r=(0,i.Z)(e,2),l=r[0],d=r[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:["Confirm? ",String(l)]}),(0,o.jsx)("button",Object.assign({onClick:function(){return c(n,void 0,void 0,(0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=d,n.next=3,(0,a.v)({className:"app-dialog app-demo-view",onRender:function(n){var e=n.closeDialog;return(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{children:"Confirm?"}),(0,o.jsx)("button",Object.assign({type:"button",onClick:function(){return e(!0)}},{children:"OK"})),(0,o.jsx)("button",Object.assign({type:"button",onClick:function(){return e(!1)}},{children:"Cancel"}))]})}}).open();case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 5:case"end":return n.stop()}}),n)})))}},{children:"Open dialog"}))]})}var d='import { createDialog } from "brew-js-react";\r\nimport { useState } from "react";\r\n\r\nfunction openDialog() {\r\n    const dialog = createDialog<boolean>({\r\n        className: \'app-dialog app-demo-view\',\r\n        onRender({ closeDialog }) {\r\n            return (\r\n                <div>\r\n                    <p>Confirm?</p>\r\n                    <button type="button" onClick={() => closeDialog(true)}>OK</button>\r\n                    <button type="button" onClick={() => closeDialog(false)}>Cancel</button>\r\n                </div>\r\n            );\r\n        }\r\n    });\r\n    return dialog.open();\r\n}\r\n\r\nexport default function Component() {\r\n    const [value, setValue] = useState<boolean | undefined>();\r\n    return (\r\n        <>\r\n            <p>Confirm? {String(value)}</p>\r\n            <button onClick={async () => setValue(await openDialog())}>\r\n                Open dialog\r\n            </button>\r\n        </>\r\n    );\r\n}\r\n',u=r(1184),p=r(6119);function h(){return(0,o.jsx)(p.iV,{component:l,source:{tsx:d,css:u.Z}})}function g(n){const e=Object.assign({h1:"h1",p:"p",a:"a",code:"code",pre:"pre",blockquote:"blockquote"},n.components),{Module:r}=e;return r||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Module",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r,{name:"brew-js-react"}),"\n",(0,o.jsx)(e.h1,{children:"Dialog result"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:":",children:(0,o.jsx)(e.code,{children:"DialogState.open"})})," returns a ",(0,o.jsx)(e.code,{children:"Promise"})," object that will be resolved when the dialog closes,\r\nmaking it readily able to response to user input."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:"const dialog = createDialog({ /* ... */ });\r\nconst result = await dialog.open();\n"})}),"\n",(0,o.jsxs)(e.p,{children:["By default it will resolve with ",(0,o.jsx)(e.code,{children:"undefined"}),", meaning that there is no specific result\r\nfrom the dialog."]}),"\n",(0,o.jsxs)(e.p,{children:["However, the dialog can be commited with return value using ",(0,o.jsx)(e.code,{children:"closeDialog"})," property in ",(0,o.jsx)(e.code,{children:"onRender"})," callback:"]}),"\n",(0,o.jsx)(h,{}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsxs)(e.p,{children:["Note that the promise will always resolves to ",(0,o.jsx)(e.code,{children:"undefined"})," if the dialog is forcibly\r\nclosed in cases like losing focus."]}),"\n"]}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsxs)(e.p,{children:["If the ",(0,o.jsx)(e.code,{children:"onCommit"})," option is passed to ",(0,o.jsx)(e.a,{href:":",children:(0,o.jsx)(e.code,{children:"createDialog"})}),", the value will be sent to ",(0,o.jsx)(e.code,{children:"onCommit"}),", and\r\nthe result will be forwarded to opener."]}),"\n"]})]})}var b=function(n={}){const{wrapper:e}=n.components||{};return e?(0,o.jsx)(e,Object.assign({},n,{children:(0,o.jsx)(g,n)})):g(n)}},1184:function(n,e){e.Z=".app-dialog {\r\n    position: fixed;\r\n    display: flex;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    background-color: #0009;\r\n    align-items: center;\r\n    justify-content: center;\r\n    pointer-events: none;\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n}\r\n\r\n.app-dialog[is-modal] {\r\n    pointer-events: all;\r\n}\r\n\r\n.app-dialog.open {\r\n    opacity: 1;\r\n}\r\n\r\n.app-dialog.open.closing {\r\n    opacity: 0;\r\n}\r\n\r\n.app-dialog > div {\r\n    position: relative;\r\n    padding: 1em;\r\n    background-color: var(--color-background);\r\n    border-radius: var(--border-radius);\r\n    box-shadow: var(--overlay-box-shadow);\r\n    pointer-events: all;\r\n}\r\n\r\n.app-dialog.loading > div:before {\r\n    position: absolute;\r\n    z-index: 1;\r\n    content: '';\r\n    bottom: 0;\r\n    left: 0;\r\n    animation: loading-bar 1000s;\r\n    border-bottom: 4px solid var(--color-highlight);\r\n    border-radius: 0 0 var(--border-radius) var(--border-radius);\r\n    transition: right 0.2s;\r\n}\r\n\r\n.app-dialog.closing > div:before {\r\n    animation-duration: 0.5s;\r\n    right: 0;\r\n}\r\n"}}]);