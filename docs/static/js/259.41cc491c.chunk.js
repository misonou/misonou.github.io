"use strict";(self.webpackChunkbrewjs_for_react_router_example=self.webpackChunkbrewjs_for_react_router_example||[]).push([[259],{259:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(2556),a=t(885),s=t(4519),i=t(1266);function c(e){var n=e.useStateCallback(1),t=(0,a.Z)(n,2)[1],i=(0,s.useRef)(0);return(0,r.jsxs)("p",{children:["Render count (",e.text,"): ",++i.current,(0,r.jsx)("br",{}),(0,r.jsx)("button",{children:"Increment",onClick:function(){t((function(e){return++e})),Promise.resolve().then((function(){t((function(e){return e}))}))}})]})}function o(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(c,{useStateCallback:s.useState,text:"useState"}),(0,r.jsx)(c,{useStateCallback:i.Su,text:"useEagerState"})]})}var l='import { useRef, useState } from "react";\r\nimport { useEagerState } from "zeta-dom-react";\r\n\r\nfunction Child(props: { text: string, useStateCallback: typeof useState }) {\r\n    const [, setState] = props.useStateCallback(1);\r\n    const ref = useRef(0);\r\n\r\n    return (\r\n        <p>\r\n            Render count ({props.text}): {++ref.current}<br/>\r\n            <button children="Increment" onClick={onClick} />\r\n        </p>\r\n    );\r\n\r\n    function onClick() {\r\n        setState(v => ++v);\r\n        Promise.resolve().then(() => {\r\n            // second call cannot be bailed out when using built-in setState\r\n            // causing ref counter incrementing twice\r\n            setState(v => v);\r\n        });\r\n    }\r\n}\r\n\r\nexport default function Component() {\r\n    return (\r\n        <div>\r\n            <Child useStateCallback={useState} text="useState" />\r\n            <Child useStateCallback={useEagerState} text="useEagerState" />\r\n        </div>\r\n    );\r\n}\r\n',u=t(6670);function d(){return(0,r.jsx)(u.iV,{component:o,source:{tsx:l}})}function h(e){const n=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",pre:"pre",h3:"h3",h4:"h4",ul:"ul",li:"li",strong:"strong",a:"a"},e.components),{Module:t,ImportHint:a,VersionTimeline:s,Badge:i}=n;return i||p("Badge",!1),i.Optional||p("Badge.Optional",!0),a||p("ImportHint",!0),t||p("Module",!0),s||p("VersionTimeline",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{name:"zeta-dom-react"}),"\n",(0,r.jsx)(n.h1,{children:"useEagerState"}),"\n",(0,r.jsxs)(n.p,{children:["Similar to but unlike ",(0,r.jsx)(n.code,{children:"React.useState"}),", it guarantees that callback supplied to updating function is called synchronously,\r\nand it will not cause component to re-render when state did not change."]}),"\n",(0,r.jsx)(n.h2,{children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"useEagerState()\r\nuseEagerState(initialState)\n"})}),"\n",(0,r.jsx)(a,{name:"useEagerState",module:"zeta-dom-react",require:"useEagerState",global:"zeta.react.useEagerState"}),"\n",(0,r.jsx)(n.h3,{children:"Parameters"}),"\n",(0,r.jsxs)("dl",{children:[(0,r.jsxs)(n.h4,{children:[(0,r.jsx)(n.code,{children:"initialState"})," ",(0,r.jsx)(i.Optional,{})]}),(0,r.jsx)(n.p,{children:"Initial state, or a function that returns the initial state."})]}),"\n",(0,r.jsx)(n.h2,{children:"Difference with useState"}),"\n",(0,r.jsx)(d,{}),"\n",(0,r.jsx)(n.h2,{children:"Version information"}),"\n",(0,r.jsx)(s,{module:"zeta-dom-react",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"0.5.4"})," Introduced"]}),"\n"]})}),"\n",(0,r.jsx)(n.h2,{children:"See also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:":",children:(0,r.jsx)(n.code,{children:"useEagerReducer"})})}),"\n"]})]})}var x=function(e={}){const{wrapper:n}=e.components||{};return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(h,e)})):h(e)};function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);