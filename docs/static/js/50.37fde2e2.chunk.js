"use strict";(self.webpackChunkbrewjs_for_react_router_example=self.webpackChunkbrewjs_for_react_router_example||[]).push([[50],{50:function(t,e,r){r.r(e),r.d(e,{default:function(){return x}});var o=r(2556),n=r(882),a=r(6502),s=r(6122),c=r(5222),p=r(5465),d=function(){return d=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},d.apply(this,arguments)},i=p.filter((function(t){return"Laptop"===t.productType})),u=p.filter((function(t){return"Tablet"===t.productType}));function l(){var t=(0,s.n7)("tab","Laptop",!0),e=t[0],r=t[1],p=(0,n.N)("dv".concat(e),{},void 0,void 0,10),l="Laptop"===e?i:u,g=p.getView(l)[0];function m(t){p.sortBy===t?p.sortOrder="asc"===p.sortOrder?"desc":"asc":(p.sortBy=t,p.sortOrder="asc")}function h(t){return p.sortBy===t?(0,a.AK)({sort:p.sortOrder}):""}return(0,o.jsxs)("div",{children:[(0,o.jsx)(c.th,{items:["Laptop","Tablet"],onChange:r}),(0,o.jsxs)("table",d({className:"app-demo-view-table"},{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",d({className:h("contact"),onClick:function(){return m("contact")}},{children:"Name"})),(0,o.jsx)("th",d({className:h("productId"),onClick:function(){return m("productId")}},{children:"Product ID"})),(0,o.jsx)("th",d({className:h("productType"),onClick:function(){return m("productType")}},{children:"Product Type"}))]})}),(0,o.jsx)("tbody",{children:g.map((function(t,e){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:t.contact}),(0,o.jsx)("td",{children:t.productId}),(0,o.jsx)("td",{children:t.productType})]},e)}))})]}))]})}var g="import { classNames, useDataView } from \"zeta-dom-react\";\r\nimport { useRouteState } from \"brew-js-react\";\r\nimport { ToggleButtonGroup } from \"src/components/controls\";\r\nimport data from \"src/data/examples/sales.json\";\r\nimport \"./style.css\";\r\n\r\nconst laptopData = data.filter(v => v.productType === 'Laptop');\r\nconst tabletData = data.filter(v => v.productType === 'Tablet');\r\n\r\nexport default function Component() {\r\n    const [tab, setTab] = useRouteState('tab', 'Laptop', true);\r\n\r\n    const dv = useDataView(`dv${tab}`, {}, undefined, undefined, 10);\r\n    const items = tab === 'Laptop' ? laptopData : tabletData;\r\n    const [pagedItems] = dv.getView(items);\r\n\r\n    function toggleSort(column: string) {\r\n        if (dv.sortBy === column) {\r\n            dv.sortOrder = dv.sortOrder === 'asc' ? 'desc' : 'asc';\r\n        } else {\r\n            dv.sortBy = column;\r\n            dv.sortOrder = 'asc';\r\n        }\r\n    }\r\n\r\n    function getSortClassNames(column: string) {\r\n        return dv.sortBy === column ? classNames({ sort: dv.sortOrder }) : '';\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ToggleButtonGroup items={['Laptop', 'Tablet']} onChange={setTab} />\r\n\r\n            <table className=\"app-demo-view-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th className={getSortClassNames('contact')} onClick={() => toggleSort('contact')}>Name</th>\r\n                        <th className={getSortClassNames('productId')} onClick={() => toggleSort('productId')}>Product ID</th>\r\n                        <th className={getSortClassNames('productType')} onClick={() => toggleSort('productType')}>Product Type</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {pagedItems.map((v, i) => (\r\n                        <tr key={i}>\r\n                            <td>{v.contact}</td>\r\n                            <td>{v.productId}</td>\r\n                            <td>{v.productType}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n",m=r(5337);function h(){return(0,o.jsx)(m.iV,{component:l,source:{tsx:g},maxHeight:"none"})}function f(t){const e=Object.assign({h1:"h1",p:"p",a:"a",code:"code",h2:"h2",pre:"pre"},t.components),{Module:r}=e;return r||function(t,e){throw new Error("Expected "+(e?"component":"object")+" `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}("Module",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r,{name:"zeta-dom-react"}),"\n",(0,o.jsx)(e.h1,{children:"Multiple data views"}),"\n",(0,o.jsx)(e.p,{children:"There are scenarios that multiple data sources are displayed in a single page."}),"\n",(0,o.jsxs)(e.p,{children:["In such cases, assign a unique persisting key for each data source as the first argument\r\nwhen using ",(0,o.jsx)(e.a,{href:":",children:(0,o.jsx)(e.code,{children:"useDataView"})}),", such that it knows when to\r\npersist and restore the current view."]}),"\n",(0,o.jsx)(e.h2,{children:"Multiple views"}),"\n",(0,o.jsx)(e.p,{children:"Same data source can be splitted into different views:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-tsx",children:"function Component() {\r\n    const items = [/* ... */];\r\n\r\n    const dv1 = useDataView('dv1', {});\r\n    const [pagedItems1] = dv1.getView(items);\r\n\r\n    const dv2 = useDataView('dv2', {});\r\n    const [pagedItems2] = dv2.getView(items);\r\n\r\n    /* ... */\r\n}\n"})}),"\n",(0,o.jsx)(e.h2,{children:"Switching data in a single view"}),"\n",(0,o.jsx)(e.p,{children:"By associating a unique persisting key to each data source, the switching of state associated to each data\r\nsource are automatically handled."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-tsx",children:"function Component() {\r\n    const items1 = [/* ... */];\r\n    const items2 = [/* ... */];\r\n    const [tab, setTab] = useState(0);\r\n\r\n    const dv = useDataView(`dv${tab}`, {});\r\n    const items = tab === 0 ? items1 : items2;\r\n    const [pagedItems] = dv.getView(items);\r\n\r\n    /* ... */\r\n}\n"})}),"\n",(0,o.jsx)(h,{})]})}var x=function(t={}){const{wrapper:e}=t.components||{};return e?(0,o.jsx)(e,Object.assign({},t,{children:(0,o.jsx)(f,t)})):f(t)}},882:function(t,e,r){r.d(e,{N:function(){return g}});var o=r(4519),n=r(6770),a=r(7749),s=r(1266),c=r(2674),p=(0,a.D8)(),d=l.prototype,i=new n.pF;function u(t,e){var r=(0,a.Jp)(t)&&-1,o=(0,a.Jp)(e)&&1;return r||o?r+o:"string"===typeof t||"string"===typeof e?String(t).localeCompare(e,void 0,{caseFirst:"upper"}):t-e}function l(t,e,r,o){var n=this,s={filters:(0,a.l7)({},t),sortBy:e,sortOrder:r||e&&"asc",pageIndex:0,pageSize:void 0===o?l.pageSize:o};for(var c in t=(0,a.l7)({},t))(0,a.aU)(t,c);var d=p(n,{filters:Object.freeze(t),defaults:s,items:[]}),u=function(){i.emit("viewChange",n)},g=function(){d.sorted=d.items.length?void 0:[],this!==n&&(d.filtered=d.sorted),(0,a.lb)(u)};(0,a.l7)(this,s),(0,a.YP)(n,g),(0,a.YP)(n.filters,g)}function g(t,e,r,n,d){if("string"!==typeof t)return g("__dataView",t,e,r,n);var i=(0,c.F)(t),u=(0,s.Rk)(),m=(0,o.useState)((function(){return(0,a.l7)(new l(e,r,n,d),i.get())}))[0];return(0,o.useEffect)((function(){var t=p(m);return(0,a.kV)(m.on("viewChange",(function(){i.set(m.toJSON()),u()})),i.onPopState?i.onPopState((function(e){i.set(m.toJSON()),(0,a.l7)(m,e||t.defaults)})):a.ZT)}),[m]),m}(0,a.Ou)(l,{pageSize:0}),(0,a.r9)(l,{itemCount:0,on:function(t,e){return i.add(this,t,e)},getView:function(t,e){var r=this,o=p(r),n=r.pageIndex||0,a=r.pageSize||0;t!==o.items&&(o.items=t||[],o.filtered=o.items.length?void 0:[],o.sorted=o.filtered),e=e||function(t){return r.sort(t)};var s=o.sorted||(o.sorted=e.call(r,o.filtered||o.items,r.filters,r.sortBy,r.sortOrder)||[]);return o.filtered=s,t&&(r.itemCount=s.length),[s.slice(n*a,a?(n+1)*a:void 0),s.length]},sort:function(t,e){if(t=(0,a.VL)(t),!(0,a.mf)(e)){var r=e||this.sortBy;if(!r)return t;e=function(t){return t[r]}}var o="desc"===this.sortOrder?-1:1,n=new Map;return(0,a.S6)(t,(function(t,r){n.set(r,e(r))})),t.sort((function(t,e){var r=n.get(t),s=n.get(e);return o*((0,a.kJ)(r)?(0,a.Zr)(r,(function(t,e){return u(t,s[e])})):u(r,s))}))},toJSON:function(){var t=this;return(0,a.l7)((0,a.ei)(t,(0,a.XP)(p(t).defaults)),{filters:(0,a.l7)({},t.filters),itemCount:t.itemCount})},reset:function(){(0,a.l7)(this,p(this).defaults)}}),(0,a.aU)(d,"sortBy"),(0,a.aU)(d,"sortOrder"),(0,a.aU)(d,"pageIndex"),(0,a.aU)(d,"pageSize"),(0,a.aU)(d,"filters",{},(function(t){return(0,a.l7)(p(this).filters,t)}))},5465:function(t){t.exports=JSON.parse('[{"contact":"Paul Thomas","sex":"M","age":43,"state":"OH","productId":"M01-F0024","productType":"Desktop"},{"contact":"Margo Simms","sex":"F","age":37,"state":"WV","productId":"GT13-0024","productType":"Desktop"},{"contact":"Sam Stine","sex":"M","age":26,"state":"PA","productId":"I3670","productType":"Desktop"},{"contact":"Moe Eggert","sex":"M","age":35,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Jessica Elk","sex":"F","age":55,"state":"PA","productId":"15M-ED","productType":"Laptop"},{"contact":"Sally Struthers","sex":"F","age":45,"state":"PA","productId":"GT13-0024","productType":"Desktop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"OH","productId":"GA401IV","productType":"Laptop"},{"contact":"Mick Roberts","sex":"M","age":23,"state":"OH","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Ed Klondike","sex":"M","age":52,"state":"OH","productId":"81TC00","productType":"Laptop"},{"contact":"Phil Jones","sex":"M","age":56,"state":"WV","productId":"M01-F0024","productType":"Desktop"},{"contact":"Rick James","sex":"M","age":49,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Sue Etna","sex":"F","age":54,"state":"OH","productId":"GT13-0024","productType":"Desktop"},{"contact":"Jason Case","sex":"M","age":57,"state":"PA","productId":"81TC00","productType":"Laptop"},{"contact":"Doug Johnson","sex":"M","age":51,"state":"PA","productId":"I3670","productType":"Desktop"},{"contact":"Andy Sands","sex":"M","age":56,"state":"OH","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Kim Collins","sex":"F","age":49,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Edna Sanders","sex":"F","age":46,"state":"OH","productId":"15M-ED","productType":"Laptop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"NY","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Mick Roberts","sex":"M","age":23,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Sally Struthers","sex":"F","age":45,"state":"NY","productId":"81TC00","productType":"Laptop"},{"contact":"Jason Case","sex":"M","age":57,"state":"PA","productId":"M01-F0024","productType":"Desktop"},{"contact":"Doug Johnson","sex":"M","age":51,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Paul Thomas","sex":"M","age":43,"state":"OH","productId":"81TC00","productType":"Laptop"},{"contact":"Margo Simms","sex":"F","age":37,"state":"WV","productId":"Q526FA","productType":"Laptop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"NY","productId":"I3670","productType":"Desktop"},{"contact":"Mick Roberts","sex":"M","age":23,"state":"PA","productId":"Q526FA","productType":"Laptop"},{"contact":"Ed Klondike","sex":"M","age":52,"state":"OH","productId":"Q526FA","productType":"Laptop"},{"contact":"Moe Eggert","sex":"M","age":35,"state":"PA","productId":"15M-ED","productType":"Laptop"},{"contact":"Jessica Elk","sex":"F","age":55,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Phil Jones","sex":"M","age":56,"state":"WV","productId":"M01-F0024","productType":"Desktop"},{"contact":"Rick James","sex":"M","age":49,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Sue Etna","sex":"F","age":54,"state":"OH","productId":"GT13-0024","productType":"Desktop"},{"contact":"Kim Collins","sex":"F","age":49,"state":"PA","productId":"I3593","productType":"Laptop"},{"contact":"Edna Sanders","sex":"F","age":46,"state":"OH","productId":"15M-ED","productType":"Laptop"},{"contact":"Michelle Samms","sex":"F","age":46,"state":"NY","productId":"MY2J2LL","productType":"Tablet"},{"contact":"Sally Struthers","sex":"F","age":45,"state":"NY","productId":"81TC00","productType":"Laptop"},{"contact":"Jason Case","sex":"M","age":57,"state":"PA","productId":"M01-F0024","productType":"Desktop"},{"contact":"Doug Johnson","sex":"M","age":51,"state":"PA","productId":"GA401IV","productType":"Laptop"},{"contact":"Moe Eggert","sex":"M","age":35,"state":"PA","productId":"I3593","productType":"Laptop"}]')}}]);