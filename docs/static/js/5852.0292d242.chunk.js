"use strict";(self.webpackChunkbrewjs_for_react_router_example=self.webpackChunkbrewjs_for_react_router_example||[]).push([[5852],{5852:function(e,n,r){r.r(n);var s=r(2556);function c(e){const n=Object.assign({h1:"h1",p:"p",blockquote:"blockquote",a:"a",code:"code",h2:"h2",pre:"pre",h3:"h3",h4:"h4",strong:"strong",ul:"ul",li:"li"},e.components),{Module:r,ImportHint:c,MemberList:d,VersionTimeline:o,Badge:i}=n;return i||t("Badge",!1),i.Optional||t("Badge.Optional",!0),i.ReadOnly||t("Badge.ReadOnly",!0),c||t("ImportHint",!0),d||t("MemberList",!0),r||t("Module",!0),o||t("VersionTimeline",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r,{name:"zeta-dom-react"}),"\n",(0,s.jsx)(n.h1,{children:"createDependency"}),"\n",(0,s.jsx)(n.p,{children:"Creates a dependency that components can provide to and read data from."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:":",children:(0,s.jsx)(n.code,{children:"useDependency"})})," for usage."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{children:"Syntax"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"createDependency()\r\ncreateDependency(defaultValue)\n"})}),"\n",(0,s.jsx)(c,{name:"createDependency",module:"zeta-dom-react",require:"createDependency",global:"zeta.react.createDependency"}),"\n",(0,s.jsx)(n.h3,{children:"Parameters"}),"\n",(0,s.jsxs)("dl",{children:[(0,s.jsxs)(n.h4,{children:[(0,s.jsx)(n.code,{children:"defaultValue"})," ",(0,s.jsx)(i.Optional,{})]}),(0,s.jsx)(n.p,{children:"Default value to return when there is no component providing data."})]}),"\n",(0,s.jsx)(n.h3,{children:"Return value"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.a,{href:":",children:(0,s.jsx)(n.code,{children:"Dependency"})})," object is returned."]}),"\n",(0,s.jsx)(n.h2,{children:"Dependency interface"}),"\n",(0,s.jsx)(d,{i:"Dependency",ip:["Consumer","Provider"]}),"\n",(0,s.jsxs)(n.h3,{children:[(0,s.jsx)(n.code,{children:"Dependency.Consumer"})," ",(0,s.jsx)(i.ReadOnly,{})]}),"\n",(0,s.jsxs)(n.p,{children:["Gets the consumer object to be passed to ",(0,s.jsx)(n.a,{href:":",children:(0,s.jsx)(n.code,{children:"useDependency"})})," for receiving data from producer."]}),"\n",(0,s.jsxs)(n.h3,{children:[(0,s.jsx)(n.code,{children:"Dependency.Provider"})," ",(0,s.jsx)(i.ReadOnly,{})]}),"\n",(0,s.jsxs)(n.p,{children:["Gets the provider object to be passed to ",(0,s.jsx)(n.a,{href:":",children:(0,s.jsx)(n.code,{children:"useDependency"})})," for sending data to consumer."]}),"\n",(0,s.jsx)(n.h2,{children:"Type safety"}),"\n",(0,s.jsx)(n.p,{children:"The dependency, as well as provider and consumer are generic type that allows specifying the\r\ntype of values provider is producing and consumer is expecting."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"declare const a: DependencyProvider<number>; // A provider producing numeric values\r\ndeclare const b: DependencyConsumer<string>; // A consumer expecting string values\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Before v0.5.10, the provider and dependency type have incorrect variance constraints, that may lead to\r\nruntime issues after casting the provider or dependency type."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{children:"Consumer object"}),"\n",(0,s.jsxs)(n.p,{children:["Consumer is ",(0,s.jsx)(n.strong,{children:"covariant"}),", meaning that a consumer can be casted or assigned to variable with a looser type."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const someDep = createDependency<number>(0);\r\nconst a: DependencyConsumer<number> = someDep.Consumer;\r\nconst b: DependencyConsumer<number | string> = a; // OK, but not vice versa\n"})}),"\n",(0,s.jsx)(n.p,{children:"The value produced by the actual provider has a stricter type,\r\ntherefore it always satisfies the looser type expected by the casted consumer:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function Consumer() {\r\n    const value = useDependency(b); // value has type number | string\r\n}\r\n\r\nfunction Producer() {\r\n    useDependency(someDep.Provider, 1); // number must be provided\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{children:"Provider object"}),"\n",(0,s.jsxs)(n.p,{children:["Provider is ",(0,s.jsx)(n.strong,{children:"contravariant"}),", meaning that a producer can be casted or assigned to variable with a stricter type."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const someDep = createDependency<number | string>(0);\r\nconst a: DependencyProducer<number | string> = someDep.Provider;\r\nconst b: DependencyProducer<number> = a; // OK, but not vice versa\n"})}),"\n",(0,s.jsxs)(n.p,{children:["When producer are casted to a stricter type, it also forces value sent through ",(0,s.jsx)(n.a,{href:":",children:(0,s.jsx)(n.code,{children:"useDependency"})})," is of a stricter type,\r\ntherefore it always satisfies the type expected by the consumer:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function Producer() {\r\n    useDependency(b, 1); // number must be provided\r\n}\r\n\r\nfunction Consumer() {\r\n    const value = useDependency(someDep.Consumer); // value has type number | string\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{children:"Dependency object"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Dependency"})," object returned from ",(0,s.jsx)(n.code,{children:"createDependency"})," is ",(0,s.jsx)(n.strong,{children:"bivariant"}),", meaning that the only one with\r\nthe exact same type can be assigned to another, as it both needs to satisfy the constraints of producer and consumer."]}),"\n",(0,s.jsx)(n.h2,{children:"Version information"}),"\n",(0,s.jsx)(o,{module:"zeta-dom-react",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"0.5.6"})," Introduced"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"0.5.10"})," ",(0,s.jsx)(n.code,{children:"Dependency.Consumer"})]}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{children:"See also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:":",children:(0,s.jsx)(n.code,{children:"useDependency"})})}),"\n"]})]})}function t(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}n.default=function(e={}){const{wrapper:n}=e.components||{};return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(c,e)})):c(e)}}}]);